<!doctype html>
<html lang="en">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Camilo Tracker</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    	integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
    	crossorigin=""/>
    <!-- Make sure you put this AFTER Leaflet's CSS -->
 	<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
    	integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
    	crossorigin=""></script>
</head>
<body>
	<div class="container">
		<h1>Camilo Tracker</h1>
		<p>Track Camilo's progress as he walks El Camino, and leave him encouraging messages.<br>(Or insult him, I'm not your boss.)</p>
		<div style="width:500px; height:50px; bg-color: 'black'"></div>

		<div id="map" style="height: 60vh"></div>

		<script>
			var map_coords = [
				[43.168166096616936, -1.2378233417282554],
				[43.00972246687362, -1.319199474091677],
				[42.930146715179596, -1.503251248171866],
				[42.81324219347755, -1.6474472183507254],
				[42.675226891487966, -1.8138619397711204],
				[42.672405824886866, -2.0319681633879374],
				[42.567300382940445, -2.190496028160167],
				[42.46282426397609, -2.4446721162167444]
			]

			var map = L.map('map');

			var map_path = L.polyline(map_coords).addTo(map);

			var markers = [];
			for (let i = 0; i < map_coords.length; i++) {
				var c = map_coords[i];
				console.log(c);
				var m = L.marker(c).addTo(map);
				m.bindPopup(`${c[0]}, ${c[1]}<br>Time: ToBeAdded`)
				markers.push(m)
			}

			L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
 				maxZoom: 19,
 				attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
			}).addTo(map);

			// zoom the map to the polyline
			map.fitBounds(map_path.getBounds());

			markers[0].openPopup();

			map.fitBounds(map_path.getBounds());

		</script>

		<label for="msg_name">Name:</label><br>
		<input type="text" id="msg_name" name="msg_name"><br>
		<label for="msg_content">Message:</label><br>
		<input type="text" id="msg_content" name="msg_content" style="width: 100%; height:20%">
		<button>Send Message</button>

		<div style="height:20vh"></div>

	</div>
</body>
</html>